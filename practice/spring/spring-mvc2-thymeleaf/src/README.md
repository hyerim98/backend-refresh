# Section 02 - 타임리프 렌더링 구조 흐름

> 타임리프 기본 기능은  
> "데이터를 화면에 어떻게 렌더링하는가"에 초점이 있다.

---

# 1️⃣ 전체 렌더링 흐름

요청  
↓  
Controller  
↓  
Model에 데이터 저장  
↓  
View 이름 반환  
↓  
ViewResolver  
↓  
타임리프 템플릿 렌더링  
↓  
HTML 응답 반환

📌 핵심  
타임리프는 Model 데이터를 HTML로 변환하는 역할을 한다.

---

# 2️⃣ 변수 출력 흐름

Controller에서:

- Model.addAttribute("user", user)

↓

View에서:

- ${user.name}

↓

타임리프가 Model에서 값을 꺼내  
HTML에 문자열로 렌더링한다.

---

# 3️⃣ 반복 렌더링 흐름 (th:each)

Model에 컬렉션 전달  
↓

th:each가 컬렉션 반복  
↓

요소 하나씩 꺼내서 렌더링

📌 핵심  
타임리프는 서버에서 반복을 수행한 뒤  
완성된 HTML을 클라이언트로 보낸다.

---

# 4️⃣ 조건 렌더링 흐름 (th:if)

조건식 평가  
↓

true → 렌더링  
false → 해당 태그 제거

📌 브라우저에는 조건 처리 결과만 전달된다.

---

# 5️⃣ 자바스크립트 인라인 흐름

Controller  
↓  
Model에 데이터 저장  
↓  
th:inline="javascript"  
↓  
JS 코드 내부에 안전하게 값 주입  
↓  
완성된 JS가 HTML에 포함되어 전달

📌 핵심  
서버에서 JS 코드가 완성되어 클라이언트로 전달된다.

---

# 6️⃣ 템플릿 조각(Fragment) 조립 흐름

공통 fragment 정의  
↓

다른 템플릿에서 th:insert 또는 th:replace  
↓

타임리프가 조각을 합쳐서 하나의 HTML 생성

📌 최종적으로는 하나의 완성된 HTML만 브라우저에 전달된다.

---

# 7️⃣ 템플릿 레이아웃 조립 흐름

레이아웃 템플릿 정의  
↓

각 페이지에서 레이아웃 확장  
↓

변경 영역만 교체  
↓

서버에서 최종 HTML 완성

📌 클라이언트는 조립 과정을 모른다.

---

# 8️⃣ 타임리프의 본질

타임리프는:

- 클라이언트에서 동작하는 기술이 아니라
- 서버에서 HTML을 완성하는 기술이다.

즉,

"렌더링은 서버에서 끝난다."

---

# 🔥 한 줄 정리

섹션2의 핵심은

타임리프가  
Model 데이터를 기반으로  
HTML을 서버에서 완성해 응답하는 구조를 이해하는 것이다.