# 📘 MVC1 - Section5 정리
## MVC 프레임워크 만들기

---

# 1️⃣ 학습 목표

- 기존 MVC 패턴의 **중복 문제 해결**
- Front Controller 패턴 이해
- 점진적으로 발전하는 MVC 프레임워크 구조 이해
- 스프링 MVC 구조와의 연결 고리 이해

---

# 2️⃣ 기존 MVC 구조의 문제점 (Section4까지)

## ❌ 공통 로직의 중복

- 모든 컨트롤러에서 request/response 처리 반복
- View 이동 코드 반복
- 파라미터 처리 코드 반복

## ❌ 구조 확장의 어려움

- 새로운 컨트롤러 방식 추가 어려움
- 공통 구조 변경 시 모든 컨트롤러 수정 필요

---

# 3️⃣ Front Controller 패턴 도입

## 📌 개념

> 모든 요청을 하나의 컨트롤러가 먼저 받는다.

- 중앙에서 요청을 관리
- 실제 비즈니스 로직은 개별 컨트롤러에 위임

---

## 📌 동작 흐름

1. 클라이언트 요청
2. Front Controller가 요청 수신
3. 매핑 정보로 컨트롤러 조회
4. 컨트롤러 실행
5. View 반환
6. Front Controller가 View 렌더링

---

## 📌 장점

- 공통 로직 중앙 관리
- 중복 제거
- 확장성 증가
- 유지보수 용이

---

# 4️⃣ V1 구조

## 특징

- Front Controller 도입
- 모든 컨트롤러는 동일한 인터페이스 구현
- 컨트롤러가 직접 View 반환

## 한계

- request/response에 직접 의존
- Model 개념 없음
- View 처리 책임이 분산

---

# 5️⃣ V2 구조

## 개선점

- View를 별도 객체로 분리
- Front Controller가 View 렌더링 담당

## 개선 효과

- View 처리 공통화
- 컨트롤러 역할 분리

## 한계

- 여전히 서블릿 기술에 의존
- Model 개념이 명확하지 않음

---

# 6️⃣ V3 구조 (핵심 발전)

## 가장 중요한 변화

### ✅ ModelView 도입

- 컨트롤러는 논리적 view name 반환
- Model 데이터 함께 전달

### ✅ request/response 의존 제거

- 컨트롤러가 서블릿 기술에 의존하지 않음
- 테스트 가능성 증가

---

## 구조 흐름

1. 요청 수신
2. HandlerMapping으로 컨트롤러 조회
3. 컨트롤러 실행
4. ModelView 반환
5. ViewResolver로 View 생성
6. View 렌더링

---

## 장점

- 서블릿 기술과 분리
- 테스트 용이
- ViewResolver 개념 도입
- 스프링 MVC 구조와 유사

---

# 7️⃣ V4 구조

## 개선점

- ModelView 제거
- Model을 파라미터로 전달
- viewName만 반환

## 장점

- 코드 더 간결
- 컨트롤러 작성이 편리
- 실무와 더 유사한 구조

---

# 8️⃣ 어댑터 패턴 도입

## 📌 도입 이유

> 서로 다른 방식의 컨트롤러를 함께 사용하기 위해

예:
- V3 컨트롤러
- V4 컨트롤러

---

## 📌 HandlerAdapter 역할

- 해당 컨트롤러를 지원하는지 판단
- 실제 호출을 대신 수행
- 결과를 일관된 형태로 반환

---

## 📌 장점

- 새로운 컨트롤러 타입 추가 가능
- 기존 코드 수정 없이 확장 가능
- 개방-폐쇄 원칙(OCP) 적용

---

# 9️⃣ Section5 핵심 구조 정리

우리가 직접 구현한 구성 요소:

- Front Controller
- HandlerMapping
- HandlerAdapter
- ModelView
- ViewResolver

→ 스프링 MVC의 핵심 구조와 동일한 개념

---

# 🔟 이번 섹션의 진짜 목적

- MVC 패턴을 단순 사용이 아니라 **구조적으로 이해**
- 스프링 MVC 내부 동작 원리 파악
- 프레임워크 설계 사고방식 경험

---

# 🔥 한 줄 정리

> Section5는 "스프링 MVC의 핵심 구조를 직접 만들어보는 과정"이다.