## 싱글톤이 필요한 이유

- 스프링은 기본적으로 객체를 많이 생성하는 구조
- 요청마다 객체를 새로 만들면 메모리 낭비가 심함
- 서비스, 리포지토리 같은 핵심 객체는 하나만 있어도 충분함

## 순수 DI 컨테이너의 문제점

- 요청할 때마다 새로운 객체가 생성됨
- 같은 역할을 하는 객체가 여러 개 생김
- 메모리 사용량 증가

## 싱글톤 패턴이란?

- 클래스의 인스턴스를 하나만 생성하도록 제한하는 패턴
- 애플리케이션 전체에서 하나의 객체를 공유

## 싱글톤 패턴의 문제점

- 구현 코드가 복잡함
- 테스트가 어려움
- 유연성이 떨어짐
- DIP, OCP 같은 객체지향 원칙을 위반하기 쉬움

## 스프링의 싱글톤 컨테이너

- 스프링 컨테이너는 객체를 기본적으로 싱글톤으로 관리
- 개발자가 싱글톤 패턴을 직접 구현하지 않아도 됨
- 객체 생성과 생명주기를 컨테이너가 책임짐

## 스프링 싱글톤의 특징

- 스프링 컨테이너당 하나의 빈 인스턴스
- stateless(무상태) 설계를 권장
- 공유 객체이므로 상태(공유필드)를 가지면 위험

## 싱글톤에서 상태를 가지면 생기는 문제

- 여러 사용자가 하나의 객체를 공유
- 필드 값이 덮어씌워질 수 있음
- 동시성 문제 발생 가능

👉 **실습 코드**: practice/spring/spring-core-basic/src/test/java/hello/core/section6_singleton

## 핵심 정리

- 스프링의 싱글톤은 성능 최적화를 위한 선택
- 직접 싱글톤 패턴을 구현하지 말고 컨테이너에 맡긴다
- 싱글톤 빈은 반드시 무상태로 설계해야 한다

## 나의 이해 정리

- 싱글톤의 핵심은 "하나만 만든다"가 아니라 "공유된다"는 점이다
- 공유 객체이기 때문에 상태(공유필드)를 가지면 위험하다
- 스프링 컨테이너는 싱글톤 문제를 객체지향적으로 해결한다